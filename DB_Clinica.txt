CREATE DATABASE db_clinica_dental

CREATE TABLE tblProcedimiento (idProcedimiento int primary key IDENTITY not null, Descripcion nvarchar(50) not null, Costo float not null);

CREATE TABLE tblCorreo (idCorreo int primary key IDENTITY not null, Correo nvarchar(100) not null,)

CREATE TABLE tblOdontologo (idOdontologo int primary key IDENTITY not null, Nombre nvarchar(100) not null, 
Telefono nvarchar(100),idCorreo int not null REFERENCES tblCorreo(idCorreo))

CREATE TABLE tblPaciente (idPaciente int primary key IDENTITY not null, Nombre nvarchar(100) not null, Telefono nvarchar(10) not null, 
Direccion nvarchar(100) not null, DUI nvarchar(9) not null,idCorreo int not null REFERENCES tblCorreo(idCorreo))


CREATE TABLE tblTipoUsuario (idTipoUsuario int primary key identity not null, Descripcion nvarchar(100) not null)

CREATE TABLE tblUsuario (idUsuario int primary key IDENTITY not null, Usuario nvarchar(100) not null, Contraseña nvarchar(100) not null,
idCorreo int not null REFERENCES tblCorreo(idCorreo), idTipoUsuario int not null REFERENCES tblTipoUsuario(idTipoUsuario))

CREATE TABLE tblEstadoCita (idEstadoCita int primary key IDENTITY not null, Descripcion nvarchar(100) not null)

CREATE TABLE tblCita (idCita int primary key IDENTITY not null, idPaciente int not null REFERENCES tblPaciente(idPaciente), 
idProceso int not null REFERENCES tblProcedimiento(idProcedimiento), idOdontologo int not null REFERENCES tblOdontologo(idOdontologo),
FechaCita date not null, idEstado int not null REFERENCES tblEstadoCita(idEstadoCita))

-- Inserciones para tblProcedimiento
INSERT INTO tblProcedimiento (Descripcion, Costo) VALUES 
('Limpieza Dental', 50.00),
('Extracción de Muelas', 120.00),
('Ortodoncia', 2000.00);

-- Inserciones para tblCorreo
INSERT INTO tblCorreo (Correo) VALUES 
('odontologo1@clinicadental.com'),
('paciente1@correo.com'),
('admin@clinicadental.com');

-- Inserciones para tblOdontologo
INSERT INTO tblOdontologo (Nombre, Telefono, idCorreo) VALUES 
('Dr. Juan Pérez', '555-1234', 1),
('Dra. Ana López', '555-5678', 2),
('Dr. Carlos Morales', '555-9101', 3);

-- Inserciones para tblPaciente
INSERT INTO tblPaciente (Nombre, Telefono, Direccion, DUI, idCorreo) VALUES 
('Luis Martínez', '777-1111', 'Calle Principal 123', '012345678', 2),
('María Gómez', '777-2222', 'Avenida Secundaria 456', '987654321', 3),
('Jorge Sánchez', '777-3333', 'Boulevard Central 789', '112233445', 1);

-- Inserciones para tblTipoUsuario
INSERT INTO tblTipoUsuario (Descripcion) VALUES 
('Administrador'),
('Odontólogo'),
('Paciente');

-- Inserciones para tblUsuario
INSERT INTO tblUsuario (Usuario, Contraseña, idCorreo, idTipoUsuario) VALUES 
('admin1', 'admin123', 3, 1),
('odontologo1', 'odontopass', 1, 2),
('paciente1', 'pacientepass', 2, 3);

-- Inserciones para tblEstadoCita
INSERT INTO tblEstadoCita (Descripcion) VALUES 
('Programada'),
('Realizada'),
('Cancelada');

-- Inserciones para tblCita
INSERT INTO tblCita (idPaciente, idProceso, idOdontologo, FechaCita, idEstado) VALUES 
(1, 1, 1, '2024-11-20', 1),
(2, 2, 2, '2024-11-21', 2),
(3, 3, 3, '2024-11-22', 3);